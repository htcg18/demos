// Generated by CoffeeScript 1.3.3
(function() {
  var fs, getType, log, os, path,
    __slice = [].slice;

  log = console.log;

  fs = require('fs');

  os = require('os');

  path = require('path');

  process.env['HOSTNAME'] = os.hostname();

  getType = function(stat) {
    if (stat.isFile()) {
      return 'file';
    }
    if (stat.isDirectory()) {
      return 'dir';
    }
    if (stat.isBlockDevice()) {
      return 'block';
    }
    if (stat.isCharacterDevice()) {
      return 'character';
    }
    if (stat.isSymbolicLink()) {
      return 'symlink';
    }
    if (stat.isFIFO()) {
      return 'fifo';
    }
    if (stat.isSocket()) {
      return 'socket';
    }
  };

  module.exports = {
    env: function() {
      var key, keys, values, _i, _len;
      keys = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      values = [];
      for (_i = 0, _len = keys.length; _i < _len; _i++) {
        key = keys[_i];
        values.push(process.env[key]);
      }
      return values;
    },
    ls: function(_path) {
      var abs, basename, stat, stats, _i, _len, _ref;
      stats = [];
      _ref = fs.readdirSync(_path);
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        basename = _ref[_i];
        abs = path.join(_path, basename);
        stat = fs.lstatSync(abs);
        stat.basename = basename;
        stat.type = getType(stat);
        stats.push(stat);
      }
      return stats;
    }
  };

}).call(this);
